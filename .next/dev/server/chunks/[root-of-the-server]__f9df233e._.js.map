{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/chelseygowac/book-tracker-app/src/lib/data-sources/book-sources.ts"],"sourcesContent":["import axios from 'axios';\n\nexport async function searchBooksOpenLibrary(query: string, limit = 20) {\n  try {\n    const response = await axios.get(`https://openlibrary.org/search.json?q=${encodeURIComponent(query)}&limit=${limit}`);\n    return response.data.docs.map((book: any) => ({\n      title: book.title,\n      author: book.author_name?.[0] || 'Unknown Author',\n      isbn: book.isbn?.[0],\n      coverUrl: book.cover_i ? `https://covers.openlibrary.org/b/id/${book.cover_i}-M.jpg` : null,\n      publishedDate: book.first_publish_year,\n      pageCount: book.number_of_pages_median,\n      description: null, // Open Library doesn't typically provide descriptions\n    }));\n  } catch (error) {\n    console.error('Open Library search error:', error);\n    return [];\n  }\n}\n\nexport async function searchBooksGoogleAI(query: string, limit = 20) {\n  try {\n    const response = await axios.get(`https://www.googleapis.com/books/v1/volumes?q=${encodeURIComponent(query)}&maxResults=${limit}`);\n    return response.data.items.map((book: any) => ({\n      title: book.volumeInfo.title,\n      author: book.volumeInfo.authors?.[0] || 'Unknown Author',\n      isbn: book.volumeInfo.industryIdentifiers?.find((id: any) => id.type === 'ISBN_13')?.identifier,\n      coverUrl: book.volumeInfo.imageLinks?.thumbnail,\n      publishedDate: book.volumeInfo.publishedDate,\n      pageCount: book.volumeInfo.pageCount,\n      description: book.volumeInfo.description,\n    }));\n  } catch (error) {\n    console.error('Google Books search error:', error);\n    return [];\n  }\n}\n\nexport async function searchBooks(query: string, limit = 20) {\n  const openLibraryResults = await searchBooksOpenLibrary(query, limit);\n  \n  if (openLibraryResults.length > 0) {\n    return openLibraryResults;\n  }\n  \n  return searchBooksGoogleAI(query, limit);\n}"],"names":[],"mappings":";;;;;;;;AAAA;;AAEO,eAAe,uBAAuB,KAAa,EAAE,QAAQ,EAAE;IACpE,IAAI;QACF,MAAM,WAAW,MAAM,4KAAK,CAAC,GAAG,CAAC,CAAC,sCAAsC,EAAE,mBAAmB,OAAO,OAAO,EAAE,OAAO;QACpH,OAAO,SAAS,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,OAAc,CAAC;gBAC5C,OAAO,KAAK,KAAK;gBACjB,QAAQ,KAAK,WAAW,EAAE,CAAC,EAAE,IAAI;gBACjC,MAAM,KAAK,IAAI,EAAE,CAAC,EAAE;gBACpB,UAAU,KAAK,OAAO,GAAG,CAAC,oCAAoC,EAAE,KAAK,OAAO,CAAC,MAAM,CAAC,GAAG;gBACvF,eAAe,KAAK,kBAAkB;gBACtC,WAAW,KAAK,sBAAsB;gBACtC,aAAa;YACf,CAAC;IACH,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,EAAE;IACX;AACF;AAEO,eAAe,oBAAoB,KAAa,EAAE,QAAQ,EAAE;IACjE,IAAI;QACF,MAAM,WAAW,MAAM,4KAAK,CAAC,GAAG,CAAC,CAAC,8CAA8C,EAAE,mBAAmB,OAAO,YAAY,EAAE,OAAO;QACjI,OAAO,SAAS,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,OAAc,CAAC;gBAC7C,OAAO,KAAK,UAAU,CAAC,KAAK;gBAC5B,QAAQ,KAAK,UAAU,CAAC,OAAO,EAAE,CAAC,EAAE,IAAI;gBACxC,MAAM,KAAK,UAAU,CAAC,mBAAmB,EAAE,KAAK,CAAC,KAAY,GAAG,IAAI,KAAK,YAAY;gBACrF,UAAU,KAAK,UAAU,CAAC,UAAU,EAAE;gBACtC,eAAe,KAAK,UAAU,CAAC,aAAa;gBAC5C,WAAW,KAAK,UAAU,CAAC,SAAS;gBACpC,aAAa,KAAK,UAAU,CAAC,WAAW;YAC1C,CAAC;IACH,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,EAAE;IACX;AACF;AAEO,eAAe,YAAY,KAAa,EAAE,QAAQ,EAAE;IACzD,MAAM,qBAAqB,MAAM,uBAAuB,OAAO;IAE/D,IAAI,mBAAmB,MAAM,GAAG,GAAG;QACjC,OAAO;IACT;IAEA,OAAO,oBAAoB,OAAO;AACpC"}},
    {"offset": {"line": 185, "column": 0}, "map": {"version":3,"sources":["file:///Users/chelseygowac/book-tracker-app/src/app/api/books/search/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { searchBooks } from '@/lib/data-sources/book-sources';\n\nexport async function GET(request: NextRequest) {\n  const searchParams = request.nextUrl.searchParams;\n  const query = searchParams.get('q');\n  const limit = parseInt(searchParams.get('limit') || '20');\n\n  if (!query) {\n    return NextResponse.json(\n      { error: 'Query parameter is required' },\n      { status: 400 }\n    );\n  }\n\n  try {\n    const books = await searchBooks(query, limit);\n    return NextResponse.json({ books });\n  } catch (error) {\n    console.error('Book search error:', error);\n    return NextResponse.json(\n      { error: 'Failed to search books' },\n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;IACjD,MAAM,QAAQ,aAAa,GAAG,CAAC;IAC/B,MAAM,QAAQ,SAAS,aAAa,GAAG,CAAC,YAAY;IAEpD,IAAI,CAAC,OAAO;QACV,OAAO,0KAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA8B,GACvC;YAAE,QAAQ;QAAI;IAElB;IAEA,IAAI;QACF,MAAM,QAAQ,MAAM,IAAA,2LAAW,EAAC,OAAO;QACvC,OAAO,0KAAY,CAAC,IAAI,CAAC;YAAE;QAAM;IACnC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,sBAAsB;QACpC,OAAO,0KAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyB,GAClC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}