(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,30604,e=>{"use strict";let t=(0,e.i(10770).default)("flame",[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]]);e.s(["Flame",()=>t],30604)},90118,e=>{"use strict";let t=(0,e.i(10770).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],90118)},57314,e=>{"use strict";let t=(0,e.i(10770).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],57314)},74286,e=>{"use strict";let t=(0,e.i(10770).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],74286)},23947,e=>{"use strict";let t=(0,e.i(10770).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["TrendingUp",()=>t],23947)},13281,64184,1094,e=>{"use strict";var t=e.i(10770);let r=(0,t.default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["Filter",()=>r],13281);let a=(0,t.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>a],64184);let s=(0,t.default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);e.s(["SlidersHorizontal",()=>s],1094)},74315,e=>{"use strict";var t=e.i(75219),r=e.i(20614),a=e.i(34612),s=e.i(44868),l=e.i(90118),o=e.i(57314),i=e.i(23947),n=e.i(35132),d=e.i(13281),c=e.i(72467),x=e.i(74286),h=e.i(64184),m=e.i(1094),u=e.i(30604),g=e.i(20299),p=e.i(52655),b=e.i(41706);function f(){let e=(0,a.useSearchParams)(),f=e.get("q")||"",v=e.get("genre")||"",y=e.get("sort")||"relevance",j=e.get("year")||"",[N,w]=(0,r.useState)([]),[k,S]=(0,r.useState)([]),[C,A]=(0,r.useState)([]),[D,E]=(0,r.useState)(!1),[$,_]=(0,r.useState)(!1),[R,T]=(0,r.useState)(f),[B,M]=(0,r.useState)({}),[U,P]=(0,r.useState)("all"),[F,z]=(0,r.useState)(""),{user:q}=(0,p.useAuth)(),L=(0,r.useRef)(null);(0,r.useEffect)(()=>{T(f)},[f]),(0,r.useEffect)(()=>{f?H():O()},[f,v,y,j]),(0,r.useEffect)(()=>{q&&(W(),I())},[q]),(0,r.useEffect)(()=>{q&&Y()},[q,U]);let O=async()=>{q?await Promise.all([I(),Y()]):await Y()},H=async()=>{E(!0);try{let e=`/api/books/search?q=${encodeURIComponent(f)}`;v&&(e+=`&genre=${encodeURIComponent(v)}`),j&&(e+=`&year=${j}`),"relevance"!==y&&(e+=`&sort=${y}`);let t=await fetch(e),r=await t.json();if(!t.ok)throw Error(r.error||"Failed to search books");w(r.books||[])}catch(e){console.error("Search error:",e)}finally{E(!1)}},I=async()=>{try{let{data:{session:e}}=await b.supabase.auth.getSession(),t={"Content-Type":"application/json"};e?.access_token&&(t.Authorization=`Bearer ${e.access_token}`);let r=await fetch("/api/recommendations",{headers:t}),a=await r.json();if(!r.ok)throw Error(a.error||"Failed to fetch recommendations");S(a.recommendations||[])}catch(e){console.error("Recommendations error:",e)}},Y=async()=>{try{let e=await fetch(`/api/books/popular?limit=12&timeframe=${U}`),t=await e.json();A(t.books||[])}catch(e){console.error("Trending books error:",e)}},W=async()=>{try{let{data:{session:e}}=await b.supabase.auth.getSession();if(!e?.access_token)return;let t=await fetch("/api/users/books",{headers:{Authorization:`Bearer ${e.access_token}`}});if(!t.ok)return;let r=await t.json(),a={};(r.books||[]).forEach(e=>{a[e.book_id]=e.id}),M(a)}catch(e){console.error("Error fetching user books:",e)}},G=async e=>{if(q)try{let{data:{session:t}}=await b.supabase.auth.getSession();if(!t?.access_token)throw Error("No authentication token available");let r=await fetch("/api/users/books",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.access_token}`},body:JSON.stringify({bookId:e.id||e.isbn||`temp_${e.title}_${Date.now()}`,title:e.title,author:e.author,isbn:e.isbn,coverUrl:e.coverUrl||e.cover_url,description:e.description,genres:e.genres,status:"WANT_TO_READ"})}),a=await r.json();if(!r.ok){let e="string"==typeof a.error?a.error:JSON.stringify(a.error);throw Error(e||"Failed to add book")}let s=e.id||e.isbn||`temp_${e.title}_${Date.now()}`;M(e=>({...e,[s]:a.book.id})),alert(`"${e.title}" added to your reading list!`)}catch(t){let e=t instanceof Error?t.message:"Unknown error";console.error("Add book error:",e),alert(`Failed to add book: ${e}`)}},J=async(e,t)=>{if(q)try{let{data:{session:r}}=await b.supabase.auth.getSession();if(!r?.access_token)throw Error("No authentication token available");let a=B[e.id||e.isbn||`temp_${e.title}_${Date.now()}`];if(!a)throw Error("Book not found in your library");if(!(await fetch("/api/users/books/status",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r.access_token}`},body:JSON.stringify({userBookId:a,status:t})})).ok)throw Error("Failed to update book status");alert(`Book marked as ${t.replace(/_/g," ").toLowerCase()}!`)}catch(t){let e=t instanceof Error?t.message:"Unknown error";console.error("Change status error:",e),alert(`Failed to update book: ${e}`)}},K=()=>{let e=[v,y,j].filter(Boolean).length;return e>0?e:""};return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-teal-50/30",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsxs)("div",{className:"inline-flex items-center space-x-3 mb-6",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-[#018283] to-[#2CAED8] rounded-2xl flex items-center justify-center shadow-lg",children:(0,t.jsx)(x.Sparkles,{className:"h-8 w-8 text-white"})}),(0,t.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-[#018283]/30 to-[#2CAED8]/30 rounded-2xl blur-lg"})]}),(0,t.jsx)("h1",{className:"text-5xl font-bold bg-gradient-to-r from-gray-900 to-gray-700 bg-clip-text text-transparent",children:"Discover Your Next Read"})]}),(0,t.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Search our curated collection, get personalized recommendations, and explore trending books"})]}),(0,t.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#018283]/10 to-[#2CAED8]/10 rounded-3xl blur-xl opacity-75 group-hover:opacity-100 transition-opacity duration-300"}),(0,t.jsx)("div",{className:"relative bg-white/90 backdrop-blur-sm border border-gray-200/50 rounded-3xl shadow-xl overflow-hidden",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"pl-6 pr-2",children:(0,t.jsx)(n.Search,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsx)("input",{type:"text",value:R,onChange:t=>{T(t.target.value),z(""),L.current&&clearTimeout(L.current),L.current=setTimeout(()=>{if(t.target.value.trim()){let r=new URLSearchParams(e.toString());r.set("q",t.target.value),window.location.href=`/discover?${r.toString()}`}else z("")},500)},onKeyDown:e=>{"Enter"!==e.key||R.trim()||(z("Please enter a search term"),e.preventDefault())},placeholder:"Search for books, authors, or ISBN...",className:"flex-1 px-4 py-5 text-lg bg-transparent focus:outline-none placeholder-gray-400 text-gray-900"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 pr-4",children:[(0,t.jsxs)("button",{onClick:()=>_(!$),className:`
                      relative flex items-center space-x-2 px-5 py-3 rounded-2xl transition-all duration-200
                      ${$?"bg-gradient-to-r from-[#018283]/10 to-[#2CAED8]/10 text-[#018283] shadow-md":"bg-gray-100/50 text-gray-600 hover:bg-gray-200/50"}
                    `,children:[(0,t.jsx)(m.SlidersHorizontal,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Filters"}),K()&&(0,t.jsx)("span",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-[#018283] to-[#2CAED8] text-white text-xs font-bold rounded-full flex items-center justify-center shadow-lg",children:K()})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:y,onChange:t=>{let r=new URLSearchParams(e.toString());"relevance"!==t.target.value?r.set("sort",t.target.value):r.delete("sort"),window.location.href=`/discover?${r.toString()}`},className:"appearance-none bg-gray-100/50 hover:bg-gray-200/50 text-gray-700 px-5 py-3 pr-10 rounded-2xl focus:outline-none transition-colors duration-200 text-sm font-medium cursor-pointer",children:[(0,t.jsx)("option",{value:"relevance",children:"Most Relevant"}),(0,t.jsx)("option",{value:"popularity",children:"Most Popular"}),(0,t.jsx)("option",{value:"rating",children:"Best Rated"}),(0,t.jsx)("option",{value:"publicationDate",children:"Newest"})]}),(0,t.jsx)(h.ChevronDown,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]})]})]})}),F&&(0,t.jsxs)("div",{className:"mt-3 text-sm text-red-600 flex items-center gap-2",children:[(0,t.jsx)("span",{children:"⚠️"}),(0,t.jsx)("span",{children:F})]})]})}),$&&(0,t.jsx)("div",{className:"max-w-4xl mx-auto mb-8",children:(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm border border-gray-200/50 rounded-3xl shadow-xl p-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Refine Your Search"}),(v||j||"relevance"!==y)&&(0,t.jsx)("button",{onClick:()=>{let t=new URLSearchParams(e.toString());t.delete("genre"),t.delete("sort"),t.delete("year"),window.location.href=`/discover?q=${f}`},className:"text-sm text-[#018283] hover:text-[#017374] font-medium transition-colors",children:"Clear All"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3 flex items-center",children:[(0,t.jsx)(d.Filter,{className:"h-4 w-4 mr-2 text-gray-400"}),"Genre"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:v,onChange:t=>{let r=new URLSearchParams(e.toString());t.target.value?r.set("genre",t.target.value):r.delete("genre"),window.location.href=`/discover?${r.toString()}`},className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#018283]/20 focus:border-[#018283] transition-all duration-200 appearance-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"All Genres"}),["Fiction","Non-Fiction","Mystery","Thriller","Romance","Science Fiction","Fantasy","Historical","Biography","Self-Help","Business","Cooking","Travel","Art & Design","Health & Fitness","Parenting","Science","Technology"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)(h.ChevronDown,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Publication Year"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:j,onChange:t=>{let r=new URLSearchParams(e.toString());t.target.value?r.set("year",t.target.value):r.delete("year"),window.location.href=`/discover?${r.toString()}`},className:"w-full px-4 py-3 bg-gray-50/50 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-[#018283]/20 focus:border-[#018283] transition-all duration-200 appearance-none cursor-pointer",children:[(0,t.jsx)("option",{value:"",children:"All Years"}),["2024","2023","2022","2021","2020","2019","2018","2017"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)(h.ChevronDown,{className:"absolute right-4 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500 pointer-events-none"})]})]})]})]})}),!f&&q&&k.length>0&&(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsxs)("div",{className:"flex items-center mb-8",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.TrendingUp,{className:"h-8 w-8 text-[#018283] mr-3"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-[#018283]/20 rounded-lg blur-md -z-10"})]}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Recommended for You"}),(0,t.jsx)("div",{className:"ml-4 px-3 py-1 bg-gradient-to-r from-[#018283]/10 to-[#2CAED8]/10 rounded-full",children:(0,t.jsx)("span",{className:"text-sm font-medium text-[#018283]",children:"AI Curated"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:k.slice(0,8).map((e,r)=>(0,t.jsx)("div",{className:"group cursor-pointer",children:(0,t.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-gray-100",children:[(0,t.jsxs)("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[e.coverUrl||e.cover_url?(0,t.jsx)("img",{src:e.coverUrl||e.cover_url,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.BookOpen,{className:"h-16 w-16 text-gray-400"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 rounded-full blur-xl"})]})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-2 group-hover:text-[#018283] transition-colors duration-200",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-1",children:e.author}),e.genres&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1 mb-4",children:e.genres.slice(0,2).map((e,r)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:e},r))}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>G(e),className:"flex-1 flex items-center justify-center px-4 py-2.5 bg-gradient-to-r from-[#018283] to-[#2CAED8] text-white rounded-2xl hover:from-[#017374] hover:to-[#2BA6C8] transition-all duration-200 shadow-md hover:shadow-lg group/btn",disabled:!q,children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 mr-2 group-hover/btn:rotate-90 transition-transform duration-300"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:q?"Add to List":"Sign in"})]}),(0,t.jsx)(g.default,{href:`/books/${e.id||e.isbn||`temp_${e.title}`}`,className:"p-2.5 bg-gray-100 text-gray-600 rounded-2xl hover:bg-gray-200 hover:text-[#018283] transition-all duration-200",children:(0,t.jsx)(l.Star,{className:"h-4 w-4"})})]})]})]})},r))})]}),!f&&C.length>0&&(0,t.jsxs)("div",{className:"mb-12",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Flame,{className:"h-8 w-8 text-orange-500"}),(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900",children:"Trending Now"})]}),(0,t.jsx)("div",{className:"flex gap-2",children:["all","month","week"].map(e=>(0,t.jsx)("button",{onClick:()=>P(e),className:`px-4 py-2 rounded-lg font-medium transition-colors ${U===e?"bg-[#018283] text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,children:"all"===e?"All Time":"month"===e?"This Month":"This Week"},e))})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.slice(0,8).map((e,r)=>(0,t.jsx)("div",{className:"group cursor-pointer",children:(0,t.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 border border-gray-100",children:[(0,t.jsxs)("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[e.coverUrl||e.cover_url?(0,t.jsx)("img",{src:e.coverUrl||e.cover_url,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.BookOpen,{className:"h-16 w-16 text-gray-400"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-200 rounded-full blur-xl"})]})}),(0,t.jsxs)("div",{className:"absolute top-3 right-3 bg-orange-500 text-white px-2 py-1 rounded-full text-xs font-bold shadow-lg",children:["#",r+1]}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-2 group-hover:text-[#018283] transition-colors duration-200",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-1",children:e.author}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)("button",{onClick:()=>G(e),className:"flex-1 flex items-center justify-center px-4 py-2.5 bg-gradient-to-r from-[#018283] to-[#2CAED8] text-white rounded-2xl hover:from-[#017374] hover:to-[#2BA6C8] transition-all duration-200 shadow-md hover:shadow-lg group/btn",disabled:!q,children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 mr-2 group-hover/btn:rotate-90 transition-transform duration-300"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:q?"Add to List":"Sign in"})]}),(0,t.jsx)(g.default,{href:`/books/${e.id||e.isbn||`temp_${e.title}`}`,className:"p-2.5 bg-gray-100 text-gray-600 rounded-2xl hover:bg-gray-200 hover:text-[#018283] transition-all duration-200",children:(0,t.jsx)(l.Star,{className:"h-4 w-4"})})]})]})]})},r))})]}),N.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:f?`Results for "${f}"`:"Discover Books"}),(0,t.jsxs)("p",{className:"text-lg text-gray-600",children:[N.length," ",1===N.length?"book":"books"," found"]})]}),(v||j||"relevance"!==y)&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"Active filters:"}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[v&&(0,t.jsx)("span",{className:"px-3 py-1 bg-[#018283]/10 text-[#018283] text-sm rounded-full font-medium",children:v}),j&&(0,t.jsx)("span",{className:"px-3 py-1 bg-[#018283]/10 text-[#018283] text-sm rounded-full font-medium",children:j}),"relevance"!==y&&(0,t.jsx)("span",{className:"px-3 py-1 bg-[#018283]/10 text-[#018283] text-sm rounded-full font-medium",children:y})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8",children:N.map((e,r)=>(0,t.jsx)("div",{className:"group",children:(0,t.jsxs)("div",{className:"relative bg-white/80 backdrop-blur-sm rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300 hover:-translate-y-3 border border-gray-100",children:[(0,t.jsxs)("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[e.coverUrl?(0,t.jsx)("img",{src:e.coverUrl,alt:e.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.BookOpen,{className:"h-20 w-20 text-gray-400"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 rounded-full blur-2xl"})]})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 text-lg mb-2 line-clamp-2 group-hover:text-[#018283] transition-colors duration-200",children:e.title}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-3 line-clamp-1",children:e.author}),e.pageCount&&(0,t.jsxs)("p",{className:"text-xs text-gray-500 mb-3",children:[e.pageCount," pages • ",e.publishedDate]}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-700 mb-4 line-clamp-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[B[e.isbn||`temp_${e.title}_${Date.now()}`]?(0,t.jsxs)("select",{value:"",onChange:t=>{t.target.value&&(J(e,t.target.value),t.target.value="")},className:"flex-1 px-4 py-2.5 text-sm bg-gradient-to-r from-[#018283] to-[#2CAED8] text-white rounded-2xl hover:from-[#017374] hover:to-[#2BA6C8] transition-all duration-200 shadow-md hover:shadow-lg cursor-pointer appearance-none",children:[(0,t.jsx)("option",{value:"",children:"Change Status"}),(0,t.jsx)("option",{value:"WANT_TO_READ",children:"Want to Read"}),(0,t.jsx)("option",{value:"CURRENTLY_READING",children:"Reading"}),(0,t.jsx)("option",{value:"READ",children:"Read"}),(0,t.jsx)("option",{value:"DNF",children:"Did Not Finish"})]}):(0,t.jsxs)("button",{onClick:()=>G(e),className:"flex-1 flex items-center justify-center px-4 py-2.5 bg-gradient-to-r from-[#018283] to-[#2CAED8] text-white rounded-2xl hover:from-[#017374] hover:to-[#2BA6C8] transition-all duration-200 shadow-md hover:shadow-lg group/btn disabled:opacity-50 disabled:cursor-not-allowed",disabled:!q,children:[(0,t.jsx)(o.Plus,{className:"h-4 w-4 mr-2 group-hover/btn:rotate-90 transition-transform duration-300"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:q?"Add to List":"Sign in to Add"})]}),(0,t.jsx)(g.default,{href:`/books/${e.isbn||`temp_${e.title}`}`,className:"p-2.5 bg-gray-100 text-gray-600 rounded-2xl hover:bg-[#018283] hover:text-white transition-all duration-200",children:(0,t.jsx)(l.Star,{className:"h-4 w-4"})})]})]})]})},r))})]}),D&&(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsxs)("div",{className:"relative inline-block mb-8",children:[(0,t.jsx)("div",{className:"w-24 h-24 bg-gradient-to-br from-[#018283]/20 to-[#2CAED8]/20 rounded-3xl flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-[#018283] to-[#2CAED8] rounded-2xl flex items-center justify-center animate-pulse shadow-lg",children:(0,t.jsx)(n.Search,{className:"h-8 w-8 text-white"})})}),(0,t.jsx)("div",{className:"absolute -inset-4 bg-gradient-to-r from-[#018283]/30 to-[#2CAED8]/30 rounded-3xl blur-xl animate-pulse"})]}),(0,t.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Searching for books..."}),(0,t.jsx)("p",{className:"text-gray-600",children:"Finding the perfect matches for you"}),(0,t.jsxs)("div",{className:"flex justify-center mt-8 space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-[#018283] rounded-full animate-bounce",style:{animationDelay:"0ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-[#2CAED8] rounded-full animate-bounce",style:{animationDelay:"150ms"}}),(0,t.jsx)("div",{className:"w-2 h-2 bg-[#018283] rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]}),!D&&0===N.length&&!f&&(!C.length||!q)&&(0,t.jsxs)("div",{className:"text-center py-20",children:[(0,t.jsxs)("div",{className:"relative inline-block mb-8",children:[(0,t.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-gray-100 to-gray-200 rounded-3xl flex items-center justify-center",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.BookOpen,{className:"h-20 w-20 text-gray-400"}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gray-300 rounded-full blur-2xl"})]})}),(0,t.jsx)("div",{className:"absolute -inset-2 bg-gradient-to-r from-gray-200 to-gray-300 rounded-3xl blur-xl opacity-50"})]}),(0,t.jsx)("h3",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Start your book discovery journey"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"Search for books, authors, or explore our curated collection"}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsxs)(g.default,{href:"/dashboard",className:"px-6 py-3 bg-gradient-to-r from-[#018283] to-[#2CAED8] text-white rounded-2xl hover:from-[#017374] hover:to-[#2BA6C8] transition-all duration-200 shadow-md hover:shadow-lg inline-flex items-center",children:[(0,t.jsx)(s.BookOpen,{className:"h-5 w-5 mr-2"}),"View Your Dashboard"]}),!q&&(0,t.jsx)(g.default,{href:"/auth/signin",className:"px-6 py-3 bg-white text-[#018283] border-2 border-[#018283] rounded-2xl hover:bg-[#018283]/5 transition-all duration-200 inline-flex items-center font-medium",children:"Sign In"})]})]}),!q&&N.length>0&&(0,t.jsx)("div",{className:"fixed bottom-8 left-8 right-8 max-w-4xl mx-auto z-50",children:(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-xl border border-gray-200/50 rounded-3xl shadow-2xl p-8 relative overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#018283]/5 to-[#2CAED8]/5"}),(0,t.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-[#018283] to-[#2CAED8] rounded-2xl flex items-center justify-center mr-3 shadow-lg",children:(0,t.jsx)(x.Sparkles,{className:"h-5 w-5 text-white"})}),(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Ready to start reading?"})]}),(0,t.jsx)("p",{className:"text-gray-600",children:"Sign in to save books to your reading list and get personalized recommendations tailored just for you."})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-3 ml-8",children:[(0,t.jsxs)(g.default,{href:"/auth/signin",className:"px-8 py-3.5 bg-gradient-to-r from-[#018283] to-[#2CAED8] text-white rounded-2xl hover:from-[#017374] hover:to-[#2BA6C8] transition-all duration-200 shadow-lg hover:shadow-xl font-medium inline-flex items-center",children:["Sign In",(0,t.jsx)(o.Plus,{className:"h-4 w-4 ml-2"})]}),(0,t.jsx)("button",{onClick:()=>{let e=document.querySelector(".fixed.bottom-8");e&&(e.style.display="none")},className:"p-2 text-gray-400 hover:text-gray-600 rounded-xl hover:bg-gray-100 transition-colors duration-200",children:(0,t.jsx)(c.X,{className:"h-5 w-5"})})]})]})]})})]})})}e.s(["default",()=>f])}]);